<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>예약 목록</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<!--<body>-->
<!--<h1>예약 목록</h1>-->
<!--<table id="reservationsTable" border="1">-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th>예약 시간</th>-->
<!--        <th>인원 수</th>-->
<!--        <th>전화번호</th>-->
<!--        <th>추가 요청사항</th>-->
<!--        <th>상태</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    </tbody>-->
<!--</table>-->

<!--<script>-->
<!--    $(document).ready(function() {-->
<!--        var adminId = "admin";-->
<!--        var currentDate = new Date().toISOString().slice(0, 19).replace('T', ' ').replace(/-/g, '/');-->

<!--        $.ajax({-->
<!--            url: '/admin',-->
<!--            type: 'GET',-->
<!--            contentType: 'application/json',-->
<!--            data: {-->
<!--                adminId: adminId,-->
<!--                date: currentDate-->
<!--            },-->
<!--            success: function(reservations) {-->
<!--                $.each(reservations, function(index, reservation) {-->
<!--                    $('#reservationsTable tbody').append(-->
<!--                        '<tr>' +-->
<!--                        '<td>' + reservation.reservationTime + '</td>' +-->
<!--                        '<td>' + reservation.peopleNum + '</td>' +-->
<!--                        '<td>' + reservation.phoneNum + '</td>' +-->
<!--                        '<td>' + reservation.extra + '</td>' +-->
<!--                        '<td>' + reservation.status + '</td>' +-->
<!--                        '</tr>'-->
<!--                    );-->
<!--                });-->
<!--            },-->
<!--            error: function() {-->
<!--                alert("데이터를 불러오는데 실패했습니다.");-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
<body>
<h1>날짜별 손님 조회</h1>
<input type="text" id="companyId" placeholder="Company ID">
<input type="text" id="day" placeholder="yyyy/MM/dd HH:mm:ss">
<button id="searchBtn">조회</button>

<div id="result"></div>

<script>
    $(document).ready(function() {
        $('#searchBtn').click(function() {
            var companyId = $('#companyId').val();
            var day = $('#day').val();

            $.ajax({
                url: '/admin',
                type: 'GET',
                data: {
                    company_id: companyId,
                    day: day
                },
                success: function(reservations) {
                    var resultHtml = '<ul>';
                    $.each(reservations, function(index, reservation) {
                        resultHtml += '<li>예약 시간: ' + reservation.reservationTime +
                            ', 인원 수: ' + reservation.peopleNum +
                            ', 전화번호: ' + reservation.phoneNum +
                            ', 추가 요청사항: ' + reservation.extra +
                            ', 상태: ' + reservation.status + '</li>';
                    });
                    resultHtml += '</ul>';
                    $('#result').html(resultHtml);
                },
                error: function() {
                    alert('데이터를 불러오는 데 실패했습니다.');
                }
            });
        });
    });
</script>
</body>
</html>